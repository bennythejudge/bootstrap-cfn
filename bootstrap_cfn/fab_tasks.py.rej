***************
*** 393,410 ****
      dns records to retreive it in the future.
  
      """
      if hasattr(env, 'tag'):
-         stack_tag = env.tag
      else:
-         stack_tag = 'active'
          env.tag = stack_tag
      legacy_name = "{0}-{1}".format(env.application, env.environment)
      # get_config needs a stack_name so this is a hack because we don't
      # know it yet...
      env.stack_name = 'temp'
-     cfn_config = get_config()
      r53_conn = get_connection(R53)
-     zone_name = cfn_config.data.get('master_zone', None)
      if not zone_name:
          raise CfnConfigError("No master_zone in yaml, unable to create/find DNS records for stack name")
      logger.info("fab_tasks::set_stack_name: Found master zone '{}' in config...".format(zone_name))
--- 393,414 ----
      dns records to retreive it in the future.
  
      """
+     stack_suffix = uuid.uuid4().__str__()[-8:]
      if hasattr(env, 'tag'):
+         # should check if the tag is used already
+         if env.tag == 'active':
+             raise CfnConfigError("tag cannot be 'active'")
+         else:
+             stack_tag = env.tag
      else:
+         stack_tag = stack_suffix
          env.tag = stack_tag
      legacy_name = "{0}-{1}".format(env.application, env.environment)
      # get_config needs a stack_name so this is a hack because we don't
      # know it yet...
      env.stack_name = 'temp'
      r53_conn = get_connection(R53)
+     zone_name = get_basic_config().get('master_zone', None)
      if not zone_name:
          raise CfnConfigError("No master_zone in yaml, unable to create/find DNS records for stack name")
      logger.info("fab_tasks::set_stack_name: Found master zone '{}' in config...".format(zone_name))
***************
*** 416,422 ****
                  "for zone name '{}'...".format(zone_id, zone_name))
      record_name = "stack.{0}.{1}".format(stack_tag, legacy_name)
  
-     stack_suffix = uuid.uuid4().__str__()[-8:]
      record = "{0}.{1}".format(record_name, zone_name)
      logger.info("fab_tasks::set_stack_name: "
                  "Creating stack suffix {} "
--- 420,425 ----
                  "for zone name '{}'...".format(zone_id, zone_name))
      record_name = "stack.{0}.{1}".format(stack_tag, legacy_name)
  
      record = "{0}.{1}".format(record_name, zone_name)
      logger.info("fab_tasks::set_stack_name: "
                  "Creating stack suffix {} "
